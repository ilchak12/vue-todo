import{V as w,Y as s,a2 as I,_ as f,i as t,$ as b,a4 as $,W as U,r as y,Z as p,a3 as c,B as z,a9 as R,a0 as v,aa as Y,ab as C,J as T,ac as j,c as G,w as H,ad as D,a1 as W,a5 as Z,a6 as q}from"./index-aaafcea9.js";import{E as K,V as P,F as Q,G as X,b as k,H as ee,w as te,I as oe,D as le,J as ae}from"./CreateTodoModal-2040c68e.js";import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";const J=w({__name:"ConfirmationModal",props:["confirmAction","cancelAction","message"],setup(a){return(o,V)=>(s(),I(K,{transition:"dialog-bottom-transition",persistent:"",width:"600"},{default:f(()=>[t(ee,null,{default:f(()=>[t(P,{color:"primary",title:"Confirm your action"}),t(Q,null,{default:f(()=>[b($(a.message||"Are you sure you want to delete?"),1)]),_:1}),t(X,{class:"justify-end modal__bottom"},{default:f(()=>[t(k,{variant:"flat",color:"red","prepend-icon":"mdi-cancel",onClick:a.cancelAction},{default:f(()=>[b(" No ")]),_:1},8,["onClick"]),t(k,{variant:"flat",color:"green","prepend-icon":"mdi-check-circle",onClick:a.confirmAction},{default:f(()=>[b(" Yes ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}))}}),se={key:0,class:"todo"},ie={class:"todo__checkbox"},ne=["checked"],de={key:1},ce={class:"todo__actions"},ue=w({__name:"TheTodo",props:["todoItem","listId"],setup(a){const o=a,V=U(),e=y(!1),u=y(!1);let i=y(o.todoItem.title);const r=()=>{V.changeIsComplete(o.listId,o.todoItem.title)},n=()=>{u.value=!u.value,i=o.todoItem.title},h=()=>{e.value=!1},g=()=>{V.deleteTodo(o.listId,o.todoItem.title),h()},x=()=>{V.updateTodo(o.listId,o.todoItem.title,{...o.todoItem,title:i}),u.value=!1};return(L,_)=>(s(),p(T,null,[a.todoItem?(s(),p("div",se,[c("label",ie,[c("input",{type:"checkbox",checked:a.todoItem.isCompleted,onChange:r},null,40,ne),t(te,null,{default:f(()=>[b("mdi-check")]),_:1}),u.value?z((s(),p("input",{key:0,type:"text","onUpdate:modelValue":_[0]||(_[0]=m=>Y(i)?i.value=m:i=m)},null,512)),[[R,v(i)]]):(s(),p("span",de,$(a.todoItem.title),1))]),c("div",ce,[u.value?(s(),p("div",{key:0,class:"todo__save",title:"Save",onClick:x},[t(k,{color:"green",variant:"flat",icon:"mdi-check",size:"x-small"})])):C("",!0),c("div",{class:"todo__edit",onClick:n,title:"Edit"},[t(k,{color:"blue",variant:"flat",icon:"mdi-note-edit",size:"x-small"})]),c("div",{class:"todo__remove",onClick:_[1]||(_[1]=m=>e.value=!0),title:"Delete"},[t(k,{color:"red",variant:"flat",icon:"mdi-delete",size:"x-small"})])])])):C("",!0),t(J,{modelValue:e.value,"onUpdate:modelValue":_[2]||(_[2]=m=>e.value=m),message:"Are you sure you want to delete this note?","confirm-action":g,"cancel-action":h},null,8,["modelValue"])],64))}});const re=F(ue,[["__scopeId","data-v-224d542c"]]),me=a=>(Z("data-v-a82b5dfd"),a=a(),q(),a),_e={class:"main-section"},ve={class:"main-section__header"},fe={key:1,class:"main-section__title"},pe={class:"main-section__actions"},ke={class:"main-section__content"},Ve=me(()=>c("h2",null,"You have no todos yet!",-1)),ye={class:"main-section__todolist"},Ce=w({__name:"ListView",setup(a){const o=U(),V=j();G(()=>V.params.id);let e=y(null);const u=y(!1),i=y(!1),r=y(!1);e=_(V.params.id);let n=y(e==null?void 0:e.title);H(()=>V.params.id,m=>{e=_(m),n=e==null?void 0:e.title}),e||D.push("/");const h=()=>{r.value=!r.value,n=e==null?void 0:e.title},g=()=>{u.value=!1},x=()=>{D.push("/"),o.deleteTodoList(e.id),g()},L=()=>{o.updateTodoList(e.id,{...e,title:n}),r.value=!1,e.title=n};function _(m){return o.todoLists.find(l=>l.id==m)}return(m,l)=>{var A,M,S,E,N;return s(),p(T,null,[c("div",_e,[c("div",ve,[r.value&&v(n)?z((s(),p("input",{key:0,class:"main-section__input-title",type:"text","onUpdate:modelValue":l[0]||(l[0]=d=>Y(n)?n.value=d:n=d)},null,512)),[[R,v(n)]]):!r.value&&((A=v(e))!=null&&A.title)?(s(),p("h2",fe,$(v(e).title),1)):C("",!0),c("div",pe,[r.value?(s(),I(k,{key:0,onClick:L,color:"green",variant:"flat",icon:"mdi-check"})):C("",!0),t(k,{disabled:r.value,onClick:l[1]||(l[1]=d=>i.value=!0),color:"green",variant:"flat",icon:"mdi-plus"},null,8,["disabled"]),t(k,{onClick:h,color:"blue",variant:"flat",icon:"mdi-note-edit"}),t(k,{disabled:r.value,onClick:l[2]||(l[2]=d=>u.value=!0),color:"red",variant:"flat",icon:"mdi-delete"},null,8,["disabled"])])]),c("div",ke,[(S=(M=v(e))==null?void 0:M.todos)!=null&&S.length?C("",!0):(s(),I(oe,{key:0},{default:f(()=>[t(ae,{cols:"12"},{default:f(()=>[Ve]),_:1})]),_:1})),c("div",ye,[(s(!0),p(T,null,W((E=v(e))==null?void 0:E.todos,(d,O)=>{var B;return s(),I(re,{key:O,"todo-item":d,"list-id":(B=v(e))==null?void 0:B.id},null,8,["todo-item","list-id"])}),128))])])]),t(J,{modelValue:u.value,"onUpdate:modelValue":l[3]||(l[3]=d=>u.value=d),message:"Are you sure you want to delete this list?","confirm-action":x,"cancel-action":g},null,8,["modelValue"]),t(le,{modelValue:i.value,"onUpdate:modelValue":l[4]||(l[4]=d=>i.value=d),onCloseModal:l[5]||(l[5]=d=>i.value=!1),"list-id":(N=v(e))==null?void 0:N.id},null,8,["modelValue","list-id"])],64)}}});const be=F(Ce,[["__scopeId","data-v-a82b5dfd"]]);export{be as default};
